<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Malla Interactiva de Van ‚ú®</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #fff0f5;
      margin: 0;
      padding: 2rem;
      color: #333;
    }
    header {
      text-align: center;
      margin-bottom: 2rem;
    }
    h1 {
      color: #cc3366;
      margin-bottom: 0.5rem;
    }
    .contenedor-horizontal {
      display: flex;
      flex-wrap: nowrap;
      gap: 2rem;
      overflow-x: auto;
    }
    .a√±o {
      min-width: 500px;
      flex-shrink: 0;
      background: rgba(255,255,255,0.8);
      padding: 1rem;
      border-radius: 1rem;
      border: 1px solid #f5a8b5;
      box-shadow: 2px 2px 6px rgba(0,0,0,0.1);
    }
    .a√±o h2 {
      text-align: center;
      color: #cc3366;
    }
    .cuatris {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }
    .cuatri {
      background-color: #ffe4ec;
      border: 2px solid #f7b6c2;
      border-radius: 1rem;
      padding: 1rem;
    }
    .cuatri h3 {
      text-align: center;
      background: #f5a8b5;
      color: white;
      padding: 0.5rem;
      border-radius: 0.5rem;
      margin-bottom: 1rem;
    }
    .materia {
      background-color: #fddde6;
      border: 1px solid #f5a8b5;
      padding: 0.8rem;
      margin: 0.4rem 0;
      border-radius: 0.7rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
      box-shadow: 1px 1px 3px rgba(0,0,0,0.1);
    }
    .materia:hover {
      background-color: #fcd3e0;
    }
    .materia.completada {
      background-color: #e89cab;
      border-color: #cc3366;
      text-decoration: line-through;
      color: white;
    }
    .materia.bloqueada {
      background-color: rgba(253, 221, 230, 0.4);
      border-color: #ccc;
      color: #999;
      cursor: not-allowed;
      opacity: 0.6;
      pointer-events: none;
    }
    footer {
      margin-top: 3rem;
      text-align: center;
      font-size: 0.9rem;
      color: #999;
    }
  </style>
</head>
<body>
  <header>
    <h1>üéì Malla Interactiva de Van ü©∑</h1>
    <p>Click en una materia para marcarla como aprobada. Las que dependan de ella se desbloquean ‚ú®</p>
  </header>
<div style="text-align:center; margin-bottom: 1.5rem;">
  <button onclick="reiniciarMalla()" style="padding: 0.6rem 1.2rem; border:none; background:#f5a8b5; color:white; border-radius:1rem; cursor:pointer; font-weight:bold;">
    üîÑ Reiniciar Malla
  </button>
</div>
  <main>
    <div id="malla-contenedor" class="contenedor-horizontal"></div>
  </main>

  <footer>
    <p>Con amor y c√≥digo rosa de Peter ‚ú®</p>
  </footer>

  <script>
const estructura = {
  "Primer A√±o": {
    "Cuatrimestre 1": [
      "Lenguaje Audiovisual 1", "Matem√°tica", "Fotograf√≠a y C√°mara 1",
      "Historia de las Artes Audiovisuales 1", "Dibujo y sistemas de representaci√≥n", "Inform√°tica"
    ],
    "Cuatrimestre 2": [
      "Lenguaje Audiovisual 2", "F√≠sica", "Gui√≥n 1", "Introducci√≥n a la Econom√≠a",
      "Percepci√≥n Audiovisual", "Tecnolog√≠a Digital", "Trabajo Social Comunitario 1"
    ]
  },
  "Segundo A√±o": {
    "Cuatrimestre 3": [
      "Fotograf√≠a y C√°mara 2", "Historia de las Artes Audiovisuales 2", "Montaje 1", "Realizaci√≥n 1",
      "Sonido 1", "Ingl√©s"
    ],
    "Cuatrimestre 4": [
      "Lenguaje Musical", "Gui√≥n 2", "Realizaci√≥n 2", "Sonido 2", "Gesti√≥n y Producci√≥n 1",
      "Direcci√≥n de Arte", "Trabajo Social Comunitario 2"
    ]
  },
  "Tercer A√±o": {
    "Cuatrimestre 5": [
      "Montaje 2", "Est√©tica de los Medios", "Direcci√≥n Actoral", "Sociolog√≠a",
      "Realizaci√≥n 3", "Gesti√≥n y Producci√≥n 2", "Ingl√©s T√©cnico"
    ],
    "Cuatrimestre 6": [
      "Gui√≥n 3", "Legislaci√≥n", "T√©cnicas de Investigaci√≥n de Audiencias", "Dise√±o de Bandas Sonoras 1",
      "Metodolog√≠a de investigaci√≥n", "Trabajo Social Comunitario 3"
    ]
  },
  "Cuarto A√±o": {
    "Cuatrimestre 7": [
      "Nuevas tecnolog√≠as Audiovisuales", "Trabajo Final 1: Proyecto de Tesis", "Trabajo Social Comunitario 4"
    ],
    "Cuatrimestre 8": [
      "Trabajo Final 2: Realizaci√≥n y Defensa de Tesis", "Deontolog√≠a y Ejercicio Profesional"
    ]
  },
  "Optativas": {
    "Animaci√≥n": [
      "Animaci√≥n 2D", "Mec√°nica del Movimiento Espec√≠fica", "Pixilati√≥n", "Stop Motion", "Motion Graphics"
    ],
    "Otras": [
      "Direcci√≥n de Arte y Efectos Especiales", "Montaje y Tecnolog√≠as Especificas",
      "Desarrollo de Proyectos Cinematogr√°ficos de Ficci√≥n", "Taller de escritura de guiones de ficci√≥n",
      "Realizaci√≥n Audiovisual Avanzada", "Historia del Teatro Argentino", "Historia del Teatro Universal"
    ]
  }
};

const dependencias = {
  "Historia de las Artes Audiovisuales 2": ["Historia de las Artes Audiovisuales 1", "Lenguaje Audiovisual 1"],
  "Est√©tica de los medios": ["Historia de las Artes Audiovisuales 2"],
  "Sociolog√≠a": ["Historia de las Artes Audiovisuales 2"],
  "Lenguaje Audiovisual 2": ["Lenguaje Audiovisual 1"],
  "Gui√≥n 2": ["Gui√≥n 1"],
  "Fotograf√≠a y C√°mara 2": ["Fotograf√≠a y C√°mara 1"],
  "Montaje 1": ["Lenguaje Audiovisual 1", "Gui√≥n 1"],
  "Realizaci√≥n 1": ["Lenguaje Audiovisual 1"],
  "Tecnolog√≠a Digital": ["Fotograf√≠a y C√°mara 1"],
  "Direcci√≥n de Arte": ["Percepci√≥n Audiovisual"],
  "Sonido 1": ["F√≠sica"],
  "Sonido 2": ["Sonido 1"],
  "Direcci√≥n Actoral 1": ["Realizaci√≥n 1"],
  "Realizaci√≥n 2": ["Realizaci√≥n 1", "Fotograf√≠a y C√°mara 2"],
  "Realizaci√≥n 3": ["Realizaci√≥n 2"],
  "Montaje 2": ["Montaje 1"],
  "Dise√±o de Bandas Sonoras 1": ["Sonido 2", "Lenguaje Musical"],
  "Gui√≥n 3": ["Gui√≥n 2"],
  "T√©cnicas de Investigaci√≥n de Audiencias": ["Gesti√≥n y Producci√≥n 1"],
  "Gesti√≥n y Producci√≥n 2": ["Gesti√≥n y Producci√≥n 1"],
  "Legislaci√≥n": ["Gesti√≥n y Producci√≥n 2"],
  "Metodolog√≠a de investigaci√≥n": ["Sociolog√≠a"],
  "Trabajo Final 1: Proyecto de Tesis": ["T√©cnicas de Investigaci√≥n de Audiencias", "Metodolog√≠a de investigaci√≥n"],
  "Trabajo Final 2: Realizaci√≥n y Defensa de Tesis": ["Trabajo Final 1: Proyecto de Tesis"],
  "Deontolog√≠a y Ejercicio Profesional": ["Legislaci√≥n", "Sociolog√≠a"],
  "Trabajo Social Comunitario 2": ["Trabajo Social Comunitario 1"],
  "Trabajo Social Comunitario 3": ["Trabajo Social Comunitario 2"],
  "Trabajo Social Comunitario 4": ["Trabajo Social Comunitario 3"],
  "Ingl√©s T√©cnico": ["Ingl√©s"],
  "Nuevas T√©cnolog√≠as Audiovisuales": ["Montaje 2", "Bandas Sonoras 1"],
  "Historia del Teatro Argentino": ["Lenguaje Audiovisual 2", "Historia de las Artes Audiovisuales 2"],
  "Historia del Teatro Universal": ["Lenguaje Audiovisual 2", "Historia de las Artes Audiovisuales 2"],
  "Animaci√≥n 2D": ["Realizaci√≥n 2"],
  "Mec√°nica del Movimiento Espec√≠fica": ["Realizaci√≥n 2"],
  "Pixilati√≥n": ["Realizaci√≥n 2"],
  "Stop Motion": ["Realizaci√≥n 2"],
  "Motion Graphics": ["Montaje 2"],
  "Direcci√≥n de Arte y Efectos Especiales": ["Realizaci√≥n 2"],
  "Montaje y Tecnolog√≠as Especificas": ["Realizaci√≥n 2", "Montaje 2"],
  "Desarrollo de Proyectos Cinematogr√°ficos de Ficci√≥n": ["Realizaci√≥n 2", "Gui√≥n 3", "Gesti√≥n y Producci√≥n 2"], 
  "Taller de escritura de guiones de ficci√≥n": ["Gui√≥n 3"],
  "Realizaci√≥n Audiovisual Avanzada": ["Realizaci√≥n 2"]
};

const estados = JSON.parse(localStorage.getItem("estadoMallaVan")) || {};

function guardarEstado() {
  localStorage.setItem("estadoMallaVan", JSON.stringify(estados));
}

function crearMalla() {
  const contenedor = document.getElementById("malla-contenedor");
  contenedor.innerHTML = "";

  for (const a√±o in estructura) {
    const divA√±o = document.createElement("div");
    divA√±o.className = "a√±o";
    divA√±o.innerHTML = `<h2>${a√±o}</h2><div class="cuatris"></div>`;
    const cuatrisDiv = divA√±o.querySelector(".cuatris");

    for (const cuatri in estructura[a√±o]) {
      const divCuatri = document.createElement("div");
      divCuatri.className = "cuatri";
      divCuatri.innerHTML = `<h3>${cuatri}</h3>`;
      estructura[a√±o][cuatri].forEach(materia => {
        const divMateria = document.createElement("div");
        divMateria.className = "materia";
        divMateria.id = materia;
        divMateria.textContent = materia;
        if (estados[materia]) divMateria.classList.add("completada");
        divCuatri.appendChild(divMateria);
      });
      cuatrisDiv.appendChild(divCuatri);
    }

    contenedor.appendChild(divA√±o);
  }

  actualizarBloqueadas();
}

function actualizarBloqueadas() {
  for (const materia in dependencias) {
    const bloqueada = !dependencias[materia].every(m => estados[m]);
    const el = document.getElementById(materia);
    if (el) {
      if (bloqueada && !estados[materia]) el.classList.add("bloqueada");
      else el.classList.remove("bloqueada");
    }
  }
}

document.addEventListener("click", e => {
  if (!e.target.classList.contains("materia")) return;
  if (e.target.classList.contains("bloqueada")) return;
  const id = e.target.id;
  estados[id] = !estados[id];
  guardarEstado();
  crearMalla();
});
function reiniciarMalla() {
  if (confirm("¬øQuer√©s reiniciar toda la malla? Esto borrar√° tu progreso ü•∫")) {
    localStorage.removeItem("estadoMallaVan");
    location.reload();
  }
}

window.onload = crearMalla;
</script>
</body>
</html>
